language: javascript
branches:
  only:
  - master
cache:
  yarn: true
  directories:
  - node_modules
before_install:
- nvm install && nvm use
install:
- npm install
script:
- npm run prepush | tee 'prepush.log'
- npm run precommit
after_success:
- npm run update-coverage
after_script:
- yarn danger
env:
  global:
  - CODECLIMATE_API_HOST=https://codebeat.co/webhooks/code_coverage
  - secure: k4aZRKZDfC9vDUgkfs5CcbwTdGq5Sr9KL5DKnFiio2N3g6rj8cRE7OgW5byNAiw58eqSbpzf5NvGfzQhedVzkExMRdwflPr5dILAhx6r9N9PbJpTG4Bilom3zqKdz5RtM+0VYe5h6PhDBs4bqh7VT4Kc0oax5yTNC2tZOKmg1Jk6fqFQL8MQoYw46V2NzqGzLTMmO3GKbe+J+Ra10SGFWLbDmLqn28R2Bd8HLz22RwyFpcUGNfoufZ0AuFxJ4jYu5JMAOndRmsWp2yGUL8rRG0JSIcSFOKFTM7JMXRUxK//RHsI0oW0rsxqPVWNShZkIxuAIaRsW7F9Jo2UWPZx6UQN4k4QLu/7V0epKaInCSr1arV5/EhXsl3tOJIAANFx5XKpQAEMbKic7flQk/AHC4WNIb02eDJKqyp1WQip7CgA/tE+TkutCynJo+6tYaLnxboBaXu6Lo0Pxt3/1Vd10aCCzqGrqo4eA4V2OFucZz8O/mszox+e9m9FQCmYxtIQCOm4dweMl+Nq/qBIO91Mtm1oLjohnLmQP6M+hmO3NWz2lpmBwFne5tdwD0DuvycE9Q0ag5LKbrVGyqX6eeTC7u3I0MbqEeUCXblqzw1eWCygAe2BOWVzQ0v9rjtZIvPwNoLedjLvQJygr30nXNHo9ZbbIOKFBRYAtmVYus57Z95k=
  - secure: TRRr042OI8q0cHNrStKwRQ8H8Pl2U/o4nE16OWM+tGSdEnSilr/4RWz4VjJFSFoyr/IZorKUDBTVIduVl7CLFohxqp6bSlCBux2hmTeLWun+LXiNCVRxcEHzMdRXPS1NmiIU20lQ7Sm6yJOeDifM4MJ1KO7voJ0FMNpVnUSMZ3bgfMp3dJYq/KJuowA9/Yh6kM7hIOS1uq8wfZ289xU5u6vkXfHjoaQlOs+syt269bIrRcIVUgqB3piA9jM8jhBbxpPC5b7tq5HK0K+Kw4vIipOSw22YHcFurWQ6pKmUGvViIxhyFdovM770x/L9tqlmNjfh9llmEtRrF36UwB4AOTU9KCmZby283cqcbx8s1U7zpTSKFPcEG7QkfZz1qLuHJ0ALkl1pVBCP6vHA2XrkaFf6r36B/oquNDDbZpR7jQyNsfY36RzhpDTznqpGgZjl/Dq8dZoGBgMNf55dVu8pnMs13dyf2uBaVOtbHtk5akYbd/n/jXM7WMer3haabG3IIvQthqAhVlp2LpBtLxmNAuTcFcdyLjmAbZxwL2rMTJnyKJr+Fz86EgHpLL3Wyy2Vqkj3JwPNlY7pUWx1nB+EjvlsVHLDLtnNi6z/ZM9csrAmdKpNwEyZG4LNIc90yGiBGnJZY9esZ8GCycdU/s8UebkVOXxU5wfWr4ttpMySR+I=
  - secure: VXV9NGlyKPKP93EdnWKvA6KzT+3Xn3QKTAMKWMu6zjm9rHV4NQ/US+2+ciCE4r/FDKfK9twe7kLudjNyXKTU1eiQ0KhPETJNSloLEpuvr/KLh3+bJTy1bzaAF2iyaA3iUdJvszCRC0RHiBmlhFaAjC7Gxg/O+SGDVIKPrfixarYPSc1vHYZiY2YDvgr0n4EGtqHIMKscK7KpkRokzleDU3I1BaAATdboN3aoRVB0PmHb8iZFU5tN0cwog288jIVNyfbkjmeJlqTlo48SCc/o8sr/gGy83KBiviyPY/3v4tw7tsl0rDDlWtVPyMgr/3mArh1PwbManmxWSjt6gZkLFdDKWZo+6XErXK3ZwsmeiGcCvzCMXJmHAa/7+w/XYojWsl374fzrWa6ciEK8wkIR0ayI+DAjRc7KHU7cjMKvEl98y654DoZiy8ckThERHXaPH6BBHcxUJKpas+DxjG+QFx9UyONVFsTag3avKlt6CFi3mjPPDkK8PqhlaL94osx90Mg+WO2ionMEJSumEgcK0s4YG9GWseC/7q1rJJMitokedqKVqm77nbuFawdmheH5b7qhtldGJ6O93LufglxiRZPkylkJkNHYQ44tesXv1loXD5++2ToMnzkXmgMXJJCq74tKEQQQ5o8ol66wpVC3P4FRKzgjA/e0FFAYqU1VjDU=
CODECOV_TOKEN=a171b5a0-a7a0-4eaa-b38c-95f87e39ab09:
  secure: G/OYHBdathGJPIAL4r+mFJ0aKgexL5YU+PeRahrMz6ObWfQSNEh6B0c/QaAKsaZXJeFV9RJbo0XHiCPdyVY+DjjpEPpRyS+6XMM1S3WatYFEKOvaShkVmKUUBc5iNt0YOxe6TueULHrOMxk7yZ8+OpjhCz12MYBWiztXBPtIk8iw9gaEXgQ9fFVDH2kQuojLkatuNBRajCh5ZurZTgCDbTHLKU6rMxuI6ZVXf1tyKMWoHcKO2DGALuc707xugrgTCdDKafFi27AjMCfe1/AEW9NewU2p8KV5cIORIpAZsPbIZbhzUpxCdYUDYz98ktcvivlk/QwpBso6JhMJ/Etu1YAd7S/C9MVHDDfcwhbEXKksCBeRlq0IeLbLBuOPo1FWfSKnmOs1BMNcKlTCq6PHdN+eVBpq8I9PXUclJzeIu044hmWawN0eo+V6VnyQWEYs8l75Agek54w0WX/hA+HRUTD6Ea1Y+g/9dd2E0plcp3gBW/BnuAg0PKTO13ooAFjKzIHEjE0BA8EBJ3fKRL7r7se7UddDiE7DZ5rUJs4ZWDQvafugL2fwMQ3qlIFPZvc74JopxmcvXATA7jaozXy9EdrWqJOCWiRlwyApVGLhXGv5Dx3KPb+DXaJ7K4cPGjgzb3SBf9h8YqtFL6C/txFKNBw4Q47sc4nIngAst6vwZec=
